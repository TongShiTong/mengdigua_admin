(window.webpackJsonp=window.webpackJsonp||[]).push([["GVCp"],{GVCp:function(t,e,a){"use strict";a.r(e);var n=a("t3Un"),l={data:function(){return{addPatternlogVisible:!1,patternList:[],all_start:0,all_total:null,Pattern:{phone:"",name:"",code:"",ali_code:"",bank_card:""},addPatterRules:{name:[{required:!0,message:"请输入姓名！",trigger:"blur"},{min:2,max:50,message:"用户名长度在 2 到 50 个字符",trigger:"blur"}],phone:[{validator:function(t,e,a){/^1(2|3|4|5|6|7|8|9)\d{9}$/.test(e)?a():a(new Error("请输入密码"))},required:!0,message:"请输入正确的手机号!",trigger:"blur"}],code:[{validator:function(t,e,a){/^[0-9a-zA-Z_]*$/.test(e)?a():a(new Error("请输入密码"))},required:!0,message:"推广码只能是数字和英文字符！",trigger:"blur"}],bank_card:[{message:"请输入银行卡号！",trigger:"blur"}],ali_code:[{message:"请输入支付宝号！",trigger:"blur"}]}}},created:function(){this.getAllCode()},methods:{getAllCode:function(){var t=this;Object(n.a)({method:"post",url:"/item/temporary-api/index",data:{page:t.all_start,size:5}}).then(function(e){t.all_total=parseInt(e.data.data.total),t.patternList=e.data.data.data}).catch(function(t){console.log(t)})},handleCurrentChange:function(t){console.log(t);this.all_start=t-1,this.getAllCode()},addPattern:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return e.$message({type:"error",message:"请输入正确的信息!"}),!1;Object(n.a)({method:"post",url:"/item/temporary-api/create",data:e.Pattern}).then(function(a){0===a.data.errcode?(e.$message({message:"添加成功！",type:"success"}),e.all_start=0,e.getAllCode(),e.$refs[t].resetFields(),e.addPatternlogVisible=!1):e.$message({type:"info",message:a.data.errmsg})}).catch(function(t){console.log(t)})})},saveTplInfo:function(){var t=this;Object(n.a)({method:"post",url:"/item/item-details-activity-list/save-activity-list",data:{id:t.id}}).then(function(e){0==e.data.errcode?(t.$message({message:"保存成功！",type:"success"}),t.$router.push("/shop_tpl_activeList")):t.$message({message:e.data.errmsg,type:"warning"})}).catch(function(t){console.log(t)})},PatternCreate:function(t){this.Pattern={phone:"",name:"",code:"",ali_code:"",bank_card:""},this.addPatternlogVisible=!0}}},r=a("KHd+"),i=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.PatternCreate("Pattern")}}},[t._v("\n      添加推广人\n    ")])],1),t._v(" "),a("viewer",{attrs:{images:t.patternList}},[a("el-table",{staticStyle:{width:"200%"},attrs:{data:t.patternList,fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"小程序码","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.code_img,alt:e.name}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"手机号","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.phone))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"推广码","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"银行卡号","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.bank_card))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支付宝号",align:"center","min-width":"150px","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.ali_code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("a",{staticClass:"el-icon-download",staticStyle:{color:"#409EFF"},attrs:{href:n.code_img,download:n.name}},[t._v("下载图片")])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{margin:"10px 0",display:"flex","justify-content":"flex-end",padding:"0 10px"}},[a("el-pagination",{attrs:{"page-size":5,total:t.all_total,background:"",layout:"prev, pager, next"},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"添加推广人",visible:t.addPatternlogVisible,width:"500px"},on:{"update:visible":function(e){t.addPatternlogVisible=e}}},[a("el-form",{ref:"Pattern",staticStyle:{width:"300px","margin-left":"30px"},attrs:{model:t.Pattern,rules:t.addPatterRules,"status-icon":"","label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.Pattern.name,callback:function(e){t.$set(t.Pattern,"name",e)},expression:"Pattern.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.Pattern.phone,callback:function(e){t.$set(t.Pattern,"phone",e)},expression:"Pattern.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"推广码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入推广码"},model:{value:t.Pattern.code,callback:function(e){t.$set(t.Pattern,"code",e)},expression:"Pattern.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行卡号",prop:"bank_card"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:t.Pattern.bank_card,callback:function(e){t.$set(t.Pattern,"bank_card",e)},expression:"Pattern.bank_card"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支付宝号",prop:"ali_code"}},[a("el-input",{attrs:{placeholder:"请输入支付宝号"},model:{value:t.Pattern.ali_code,callback:function(e){t.$set(t.Pattern,"ali_code",e)},expression:"Pattern.ali_code"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addPatternlogVisible=!1}}},[t._v(" 取消 ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addPattern("Pattern")}}},[t._v("\n        提交\n      ")])],1)],1)],1)},[],!1,null,null,null);i.options.__file="index.vue";e.default=i.exports}}]);